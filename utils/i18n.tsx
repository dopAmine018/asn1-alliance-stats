
import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { Language } from '../types';

type TranslationKey = 
  | 'nav.public' | 'nav.admin' | 'nav.logout' | 'nav.home'
  | 'landing.welcome' | 'landing.subtitle' | 'landing.action.update' | 'landing.action.update.desc' | 'landing.action.view' | 'landing.action.view.desc'
  | 'form.title' | 'form.success' | 'form.submit' | 'form.saving' | 'form.optional' | 'form.required_error'
  | 'section.identity' | 'section.identity.desc' | 'section.power' | 'section.power.desc' 
  | 'section.tech' | 'section.tech.desc'
  | 'section.infrastructure' | 'section.infrastructure.desc'
  | 'section.t10' | 'section.t10.desc'
  | 'label.language' | 'label.name' | 'label.power' | 'label.squad2' | 'label.squad3' | 'label.squad4' | 'label.totalHeroPower'
  | 'label.pin_locked' | 'label.pin_optional' | 'label.pin_req' | 'label.pin_set' | 'msg.forgot_pin' | 'err.pin_mismatch'
  | 'placeholder.server_rank' | 'hint.server_rank'
  | 'stat.hero' | 'stat.duel' | 'stat.units'
  | 't10.title' | 't10.morale' | 't10.protection' | 't10.hp' | 't10.atk' | 't10.def'
  | 'calc.title' | 'calc.gold' | 'calc.valor' | 'calc.food_iron' | 'calc.remaining'
  | 'level.tech' | 'level.barracks' | 'level.tank' | 'level.air' | 'level.missile'
  | 'card.hero_pwr' | 'card.tech_short' | 'card.barr_short' | 'card.tank_short' | 'card.air_short' | 'card.misl_short'
  | 'viewer.leaderboard' | 'viewer.search' | 'viewer.sort' | 'viewer.showing' | 'viewer.no_results' | 'viewer.updated' | 'viewer.export' | 'viewer.back'
  | 'sort.newest' | 'sort.oldest' | 'sort.highest_power' | 'sort.lowest_power'
  | 'sort.highest_total_hero_power' | 'sort.lowest_total_hero_power'
  | 'admin.login.title' | 'admin.login.btn' | 'admin.dashboard' | 'admin.password' | 'admin.db' | 'admin.vs' | 'admin.filter'
  | 'admin.active_only' | 'admin.active_only' | 'admin.all_records' | 'admin.status' | 'admin.identity' | 'admin.control' | 'admin.terminate' | 'admin.save' | 'admin.cancel' | 'admin.edit' | 'admin.del'
  | 'vs.select' | 'vs.create_btn' | 'vs.extract' | 'vs.modal_title' | 'vs.modal_placeholder' | 'vs.abort' | 'vs.launch' 
  | 'vs.agent' | 'vs.sum' | 'vs.add_agent_ph' | 'vs.inject' | 'vs.awaiting'
  | 'day.mon' | 'day.tue' | 'day.wed' | 'day.thu' | 'day.fri' | 'day.sat'
  | 'credit.architect';

const translations: Record<Language, Record<TranslationKey, string>> = {
  english: {
    'nav.public': 'Command',
    'nav.admin': 'Admin Link',
    'nav.logout': 'Logout',
    'nav.home': 'Return to Base',
    'landing.welcome': 'ASN1 Command Center',
    'landing.subtitle': 'Select your directive commander.',
    'landing.action.update': 'Update Profile',
    'landing.action.update.desc': 'Submit latest combat stats and facility levels.',
    'landing.action.view': 'View Database',
    'landing.action.view.desc': 'Access alliance leaderboard and intel.',
    'form.title': 'Submit / Update Stats',
    'form.success': 'Stats saved successfully!',
    'form.submit': 'Save Player Stats',
    'form.saving': 'Saving...',
    'form.optional': 'Optional',
    'form.required_error': 'Please fill all required fields.',
    'section.identity': '01 // Identity Verification',
    'section.identity.desc': 'Verify commander credentials.',
    'section.power': '02 // POWER',
    'section.power.desc': 'Smart Format: 24.5 = 24.5M',
    'section.tech': '03 // TECHNOLOGIE',
    'section.tech.desc': 'Research & Advanced Buffs',
    'section.infrastructure': '04 // BUILDINGS',
    'section.infrastructure.desc': 'Base Facility Levels',
    'section.t10': '05 // Tier 10 Analysis',
    'section.t10.desc': 'Advanced Buffs',
    'label.language': 'Language',
    'label.name': 'In-game name',
    'label.power': 'First Squad Power',
    'label.squad2': 'Squad 2',
    'label.squad3': 'Squad 3',
    'label.squad4': 'Squad 4',
    'label.totalHeroPower': 'Total Hero Power',
    'label.pin_locked': 'ðŸ”’ Security PIN (Locked)',
    'label.pin_optional': 'ðŸ›¡ï¸ Security PIN (Optional)',
    'label.pin_req': 'Required to update',
    'label.pin_set': 'Set for quick filling',
    'msg.forgot_pin': 'Forgot PIN? Contact R5/4',
    'err.pin_mismatch': 'Locked Profile: Incorrect PIN',
    'placeholder.server_rank': 'Server Rank',
    'hint.server_rank': 'â„¹ï¸ Find this in Server Rankings',
    'stat.hero': 'Hero %',
    'stat.duel': "VS 'Duel' %",
    'stat.units': 'Units %',
    't10.title': 'Tier 10 Bonuses',
    't10.morale': 'Morale',
    't10.protection': 'Protection',
    't10.hp': 'HP Boost',
    't10.atk': 'Attack Boost',
    't10.def': 'Defense Boost',
    'calc.title': 'T10 Resource Projector',
    'calc.gold': 'Gold Needed',
    'calc.valor': 'Valor Needed',
    'calc.food_iron': 'Food/Iron Needed',
    'calc.remaining': 'Remaining to T10 Unlock',
    'level.tech': 'Tech Center',
    'level.barracks': 'Barracks',
    'level.tank': 'Tank Center',
    'level.air': 'Air Center',
    'level.missile': 'Missile Center',
    'card.hero_pwr': 'HERO PWR',
    'card.tech_short': 'Tech',
    'card.barr_short': 'Barr',
    'card.tank_short': 'Tank',
    'card.air_short': 'Air',
    'card.misl_short': 'Misl',
    'viewer.leaderboard': 'Alliance Leaderboard',
    'viewer.search': 'Search name...',
    'viewer.sort': 'Sort by',
    'viewer.showing': 'active',
    'viewer.no_results': 'No players found.',
    'viewer.updated': 'Updated',
    'viewer.export': 'Export CSV',
    'viewer.back': 'Back',
    'sort.newest': 'Newest',
    'sort.oldest': 'Oldest',
    'sort.highest_power': 'Highest Power',
    'sort.lowest_power': 'Lowest Power',
    'sort.highest_total_hero_power': 'Highest Hero Power',
    'sort.lowest_total_hero_power': 'Lowest Hero Power',
    'admin.login.title': 'Admin Access',
    'admin.login.btn': 'Unlock Panel',
    'admin.dashboard': 'Admin Dashboard',
    'admin.password': 'Enter Password',
    'admin.db': 'Database',
    'admin.vs': 'VS Duel',
    'admin.filter': 'Filter...',
    'admin.active_only': 'Active Only',
    'admin.all_records': 'All Records',
    'admin.status': 'Status',
    'admin.identity': 'Identity',
    'admin.control': 'Control',
    'admin.terminate': 'Terminate',
    'admin.save': 'Save',
    'admin.cancel': 'Cancel',
    'admin.edit': 'Edit',
    'admin.del': 'Del',
    'vs.select': 'Select Duel',
    'vs.create_btn': '+ Duel',
    'vs.extract': 'Extract Data',
    'vs.modal_title': 'Init VS Duel',
    'vs.modal_placeholder': 'Duel Name',
    'vs.abort': 'Abort',
    'vs.launch': 'Launch',
    'vs.agent': 'Agent',
    'vs.sum': 'Sum',
    'vs.add_agent_ph': 'Add Agent...',
    'vs.inject': 'Inject',
    'vs.awaiting': 'Awaiting Selection...',
    'day.mon': 'Mon',
    'day.tue': 'Tue',
    'day.wed': 'Wed',
    'day.thu': 'Thu',
    'day.fri': 'Fri',
    'day.sat': 'Sat',
    'credit.architect': 'MADE BY AMINE',
  },
  arabic: {
    'nav.public': 'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©',
    'nav.admin': 'Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø±Ù',
    'nav.logout': 'Ø®Ø±ÙˆØ¬',
    'nav.home': 'Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¹Ø¯Ø©',
    'landing.welcome': 'Ù…Ø±ÙƒØ² Ù‚ÙŠØ§Ø¯Ø© ASN1',
    'landing.subtitle': 'Ø§Ø®ØªØ± ØªÙˆØ¬ÙŠÙ‡Ùƒ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù‚Ø§Ø¦Ø¯.',
    'landing.action.update': 'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù',
    'landing.action.update.desc': 'Ø¥Ø±Ø³Ø§Ù„ Ø£Ø­Ø¯Ø« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù‚ØªØ§Ù„ ÙˆÙ…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ.',
    'landing.action.view': 'Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
    'landing.action.view.desc': 'Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© ØµØ¯Ø§Ø±Ø© Ø§Ù„ØªØ­Ø§Ù„Ù ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¨Ø§Ø±Ø§Øª.',
    'form.title': 'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',
    'form.success': 'ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­!',
    'form.submit': 'Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
    'form.saving': 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...',
    'form.optional': 'Ø§Ø®ØªÙŠØ§Ø±ÙŠ',
    'form.required_error': 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.',
    'section.identity': '01 // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ©',
    'section.identity.desc': 'ØªØ£ÙƒÙŠØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ø¯.',
    'section.power': '02 // Ø§Ù„Ø·Ø§Ù‚Ø©',
    'section.power.desc': 'ØªÙ†Ø³ÙŠÙ‚ Ø°ÙƒÙŠ: 24.5 = 24.5 Ù…Ù„ÙŠÙˆÙ†',
    'section.tech': '03 // Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§',
    'section.tech.desc': 'Ù†Ø³Ø¨ Ø§Ù„Ø£Ø¨Ø­Ø§Ø« ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª',
    'section.infrastructure': '04 // Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ',
    'section.infrastructure.desc': 'Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ø¨Ø§Ù†ÙŠ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©',
    'section.t10': '05 // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 10',
    'section.t10.desc': 'ØªØ¹Ø²ÙŠØ²Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©',
    'label.language': 'Ø§Ù„Ù„ØºØ©',
    'label.name': 'Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ø¦Ø¯',
    'label.power': 'Ù‚ÙˆØ© Ø§Ù„ÙØ±ÙŠÙ‚ 1',
    'label.squad2': 'Ø§Ù„ÙØ±ÙŠÙ‚ 2',
    'label.squad3': 'Ø§Ù„ÙØ±ÙŠÙ‚ 3',
    'label.squad4': 'Ø§Ù„ÙØ±ÙŠÙ‚ 4',
    'label.totalHeroPower': 'Ù‚ÙˆØ© Ø§Ù„Ø£Ø¨Ø·Ø§Ù„',
    'label.pin_locked': 'ðŸ”’ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ (Ù…ØºÙ„Ù‚)',
    'label.pin_optional': 'ðŸ›¡ï¸ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)',
    'label.pin_req': 'Ù…Ø·Ù„ÙˆØ¨ Ù„Ù„ØªØ­Ø¯ÙŠØ«',
    'label.pin_set': 'Ù„Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹',
    'msg.forgot_pin': 'Ù†Ø³ÙŠØª Ø§Ù„Ø±Ù…Ø²ØŸ ØªÙˆØ§ØµÙ„ Ù…Ø¹ R5/4',
    'err.pin_mismatch': 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ',
    'placeholder.server_rank': 'ØªØ±ØªÙŠØ¨ Ø§Ù„Ø³ÙŠØ±ÙØ±',
    'hint.server_rank': 'â„¹ï¸ ØªØ¬Ø¯Ù‡Ø§ ÙÙŠ ØªØµÙ†ÙŠÙ Ø§Ù„Ø³ÙŠØ±ÙØ±',
    'stat.hero': 'Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ %',
    'stat.duel': 'Ø§Ù„Ù…Ø¨Ø§Ø±Ø²Ø© %',
    'stat.units': 'Ø§Ù„Ø¬Ù†ÙˆØ¯ %',
    't10.title': 'Ù…ÙƒØ§ÙØ¢Øª T10',
    't10.morale': 'Ù…Ø¹Ù†ÙˆÙŠØ§Øª',
    't10.protection': 'Ø­Ù…Ø§ÙŠØ©',
    't10.hp': 'ØµØ­Ø© HP',
    't10.atk': 'Ù‡Ø¬ÙˆÙ…',
    't10.def': 'Ø¯ÙØ§Ø¹',
    'calc.title': 'Ø­Ø§Ø³Ø¨Ø© Ù…ÙˆØ§Ø±Ø¯ T10',
    'calc.gold': 'Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨',
    'calc.valor': 'Ù…ÙŠØ¯Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø´Ø±Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©',
    'calc.food_iron': 'Ø·Ø¹Ø§Ù…/Ø­Ø¯ÙŠØ¯ Ù…Ø·Ù„ÙˆØ¨',
    'calc.remaining': 'Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„ÙØªØ­ T10',
    'level.tech': 'Ù…Ø±ÙƒØ² Ø§Ù„ØªÙ‚Ù†ÙŠØ©',
    'level.barracks': 'Ø§Ù„Ø«ÙƒÙ†Ø©',
    'level.tank': 'Ù…Ø±ÙƒØ² Ø§Ù„Ø¯Ø¨Ø§Ø¨Ø§Øª',
    'level.air': 'Ù…Ø±ÙƒØ² Ø§Ù„Ø·ÙŠØ±Ø§Ù†',
    'level.missile': 'Ù…Ø±ÙƒØ² Ø§Ù„ØµÙˆØ§Ø±ÙŠØ®',
    'card.hero_pwr': 'Ù‚ÙˆØ© Ø§Ù„Ø£Ø¨Ø·Ø§Ù„',
    'card.tech_short': 'ØªÙ‚Ù†ÙŠØ©',
    'card.barr_short': 'Ø«ÙƒÙ†Ø©',
    'card.tank_short': 'Ø¯Ø¨Ø§Ø¨Ø©',
    'card.air_short': 'Ø·ÙŠØ±Ø§Ù†',
    'card.misl_short': 'ØµÙˆØ§Ø±ÙŠØ®',
    'viewer.leaderboard': 'ØµØ¯Ø§Ø±Ø© Ø§Ù„ØªØ­Ø§Ù„Ù',
    'viewer.search': 'Ø¨Ø­Ø«...',
    'viewer.sort': 'ØªØ±ØªÙŠØ¨',
    'viewer.showing': 'Ù†Ø´Ø·',
    'viewer.no_results': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬.',
    'viewer.updated': 'ØªØ­Ø¯ÙŠØ«',
    'viewer.export': 'CSV',
    'viewer.back': 'Ø¹ÙˆØ¯Ø©',
    'sort.newest': 'Ø§Ù„Ø£Ø­Ø¯Ø«',
    'sort.oldest': 'Ø§Ù„Ø£Ù‚Ø¯Ù…',
    'sort.highest_power': 'Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù‚ÙˆØ©',
    'sort.lowest_power': 'Ø§Ù„Ø£Ù‚Ù„ Ù‚ÙˆØ©',
    'sort.highest_total_hero_power': 'Ø£Ø¹Ù„Ù‰ Ù‚ÙˆØ© Ø£Ø¨Ø·Ø§Ù„',
    'sort.lowest_total_hero_power': 'Ø£Ù‚Ù„ Ù‚ÙˆØ© Ø£Ø¨Ø·Ø§Ù„',
    'admin.login.title': 'Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±Ù',
    'admin.login.btn': 'Ø¯Ø®ÙˆÙ„',
    'admin.dashboard': 'Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±Ù',
    'admin.password': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±',
    'admin.db': 'Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
    'admin.vs': 'ØªØ­Ø¯ÙŠ VS',
    'admin.filter': 'ØªØµÙÙŠØ©...',
    'admin.active_only': 'Ø§Ù„Ù†Ø´Ø·ÙŠÙ†',
    'admin.all_records': 'Ø§Ù„ÙƒÙ„',
    'admin.status': 'Ø§Ù„Ø­Ø§Ù„Ø©',
    'admin.identity': 'Ø§Ù„Ù‡ÙˆÙŠØ©',
    'admin.control': 'ØªØ­ÙƒÙ…',
    'admin.terminate': 'Ø¥Ù†Ù‡Ø§Ø¡',
    'admin.save': 'Ø­ÙØ¸',
    'admin.cancel': 'Ø¥Ù„ØºØ§Ø¡',
    'admin.edit': 'ØªØ¹Ø¯ÙŠÙ„',
    'admin.del': 'Ø­Ø°Ù',
    'vs.select': 'ØªØ­Ø¯ÙŠØ¯',
    'vs.create_btn': '+ ØªØ­Ø¯ÙŠ',
    'vs.extract': 'Ø§Ø³ØªØ®Ø±Ø§Ø¬',
    'vs.modal_title': 'ØªØ­Ø¯ÙŠ Ø¬Ø¯ÙŠØ¯',
    'vs.modal_placeholder': 'Ø§Ù„Ø§Ø³Ù…',
    'vs.abort': 'Ø¥Ù„ØºØ§Ø¡',
    'vs.launch': 'Ø¨Ø¯Ø¡',
    'vs.agent': 'Ø§Ù„Ø¹Ù…ÙŠÙ„',
    'vs.sum': 'Ù…Ø¬Ù…ÙˆØ¹',
    'vs.add_agent_ph': 'Ø¥Ø¶Ø§ÙØ©...',
    'vs.inject': 'Ø¥Ø¯Ø±Ø§Ø¬',
    'vs.awaiting': 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...',
    'day.mon': 'Ø¥Ø«Ù†ÙŠÙ†',
    'day.tue': 'Ø«Ù„Ø§Ø«Ø§Ø¡',
    'day.wed': 'Ø£Ø±Ø¨Ø¹Ø§Ø¡',
    'day.thu': 'Ø®Ù…ÙŠØ³',
    'day.fri': 'Ø¬Ù…Ø¹Ø©',
    'day.sat': 'Ø³Ø¨Øª',
    'credit.architect': 'ØµÙ†Ø¹ Ø¨ÙˆØ§Ø³Ø·Ø© Ø£Ù…ÙŠÙ†',
  },
  turkish: {
    'nav.public': 'Komuta',
    'nav.admin': 'YÃ¶netici',
    'nav.logout': 'Ã‡Ä±kÄ±ÅŸ',
    'nav.home': 'Ãœsse DÃ¶n',
    'landing.welcome': 'ASN1 Komuta Merkezi',
    'landing.subtitle': 'Komutan, gÃ¶revinizi seÃ§in.',
    'landing.action.update': 'Profili GÃ¼ncelle',
    'landing.action.update.desc': 'Son savaÅŸ istatistiklerini ve bina seviyelerini gÃ¶nder.',
    'landing.action.view': 'VeritabanÄ±nÄ± GÃ¶rÃ¼ntÃ¼le',
    'landing.action.view.desc': 'Ä°ttifak sÄ±ralamasÄ±na ve istihbaratÄ±na eriÅŸ.',
    'form.title': 'Ä°statistik GÃ¼ncelle',
    'form.success': 'BaÅŸarÄ±yla kaydedildi!',
    'form.submit': 'Kaydet',
    'form.saving': 'Kaydediliyor...',
    'form.optional': 'Ä°steÄŸe baÄŸlÄ±',
    'form.required_error': 'Gerekli alanlarÄ± doldurun.',
    'section.identity': '01 // Kimlik DoÄŸrulama',
    'section.identity.desc': 'Komutan bilgilerini onayla.',
    'section.power': '02 // GÃœÃ‡',
    'section.power.desc': 'AkÄ±llÄ± Format: 24.5 = 24.5M',
    'section.tech': '03 // TEKNOLOJÄ°',
    'section.tech.desc': 'AraÅŸtÄ±rma ve GeliÅŸmiÅŸ Bonuslar',
    'section.infrastructure': '04 // BÄ°NALAR',
    'section.infrastructure.desc': 'Ãœs Bina Seviyeleri',
    'section.t10': '05 // Seviye 10 Analizi',
    'section.t10.desc': 'GeliÅŸmiÅŸ GÃ¼Ã§lendirmeler',
    'label.language': 'Dil',
    'label.name': 'Oyun ismi',
    'label.power': '1. TakÄ±m GÃ¼cÃ¼',
    'label.squad2': '2. TakÄ±m',
    'label.squad3': '3. TakÄ±m',
    'label.squad4': '4. TakÄ±m',
    'label.totalHeroPower': 'Kahraman GÃ¼cÃ¼',
    'label.pin_locked': 'ðŸ”’ PIN (Kilitli)',
    'label.pin_optional': 'ðŸ›¡ï¸ PIN (Ä°steÄŸe BaÄŸlÄ±)',
    'label.pin_req': 'GÃ¼ncelleme iÃ§in gerekli',
    'label.pin_set': 'HÄ±zlÄ± giriÅŸ iÃ§in',
    'msg.forgot_pin': 'PIN unuttun mu? R5/4\'e yaz',
    'err.pin_mismatch': 'HatalÄ± PIN',
    'placeholder.server_rank': 'Sunucu SÄ±rasÄ±',
    'hint.server_rank': 'â„¹ï¸ Sunucu SÄ±ralamasÄ±ndan al',
    'stat.hero': 'Kahraman %',
    'stat.duel': 'DÃ¼ello %',
    'stat.units': 'Birim %',
    't10.title': 'T10 BonuslarÄ±',
    't10.morale': 'Moral',
    't10.protection': 'Koruma',
    't10.hp': 'Can',
    't10.atk': 'SaldÄ±rÄ±',
    't10.def': 'Savunma',
    'calc.title': 'T10 Kaynak HesaplayÄ±cÄ±',
    'calc.gold': 'Gerekli AltÄ±n',
    'calc.valor': 'Gerekli Cesaret',
    'calc.food_iron': 'Yiyecek/Demir',
    'calc.remaining': 'T10 Kilidine Kalan',
    'level.tech': 'Teknoloji',
    'level.barracks': 'KÄ±ÅŸla',
    'level.tank': 'Tank',
    'level.air': 'Hava',
    'level.missile': 'FÃ¼ze',
    'card.hero_pwr': 'KAHRAMAN',
    'card.tech_short': 'Tekn',
    'card.barr_short': 'KÄ±ÅŸla',
    'card.tank_short': 'Tank',
    'card.air_short': 'Hava',
    'card.misl_short': 'FÃ¼ze',
    'viewer.leaderboard': 'Ä°ttifak SÄ±ralamasÄ±',
    'viewer.search': 'Ara...',
    'viewer.sort': 'SÄ±rala',
    'viewer.showing': 'aktif',
    'viewer.no_results': 'SonuÃ§ yok.',
    'viewer.updated': 'GÃ¼ncel',
    'viewer.export': 'CSV',
    'viewer.back': 'Geri',
    'sort.newest': 'En Yeni',
    'sort.oldest': 'En Eski',
    'sort.highest_power': 'En YÃ¼ksek GÃ¼Ã§',
    'sort.lowest_power': 'En DÃ¼ÅŸÃ¼k GÃ¼Ã§',
    'sort.highest_total_hero_power': 'YÃ¼ksek Kahraman GÃ¼cÃ¼',
    'sort.lowest_total_hero_power': 'DÃ¼ÅŸÃ¼k Kahraman GÃ¼cÃ¼',
    'admin.login.title': 'YÃ¶netici',
    'admin.login.btn': 'GiriÅŸ',
    'admin.dashboard': 'Panel',
    'admin.password': 'Åžifre',
    'admin.db': 'VeritabanÄ±',
    'admin.vs': 'VS DÃ¼ello',
    'admin.filter': 'Filtre...',
    'admin.active_only': 'Aktif',
    'admin.all_records': 'TÃ¼mÃ¼',
    'admin.status': 'Durum',
    'admin.identity': 'Kimlik',
    'admin.control': 'Kontrol',
    'admin.terminate': 'SonlandÄ±r',
    'admin.save': 'Kaydet',
    'admin.cancel': 'Ä°ptal',
    'admin.edit': 'DÃ¼zenle',
    'admin.del': 'Sil',
    'vs.select': 'SeÃ§',
    'vs.create_btn': '+ DÃ¼ello',
    'vs.extract': 'Ã‡Ä±kar',
    'vs.modal_title': 'Yeni VS',
    'vs.modal_placeholder': 'Ä°sim',
    'vs.abort': 'Ä°ptal',
    'vs.launch': 'BaÅŸlat',
    'vs.agent': 'Ajan',
    'vs.sum': 'Top',
    'vs.add_agent_ph': 'Ekle...',
    'vs.inject': 'Ekle',
    'vs.awaiting': 'Bekleniyor...',
    'day.mon': 'Pzt',
    'day.tue': 'Sal',
    'day.wed': 'Ã‡ar',
    'day.thu': 'Per',
    'day.fri': 'Cum',
    'day.sat': 'Cmt',
    'credit.architect': 'YAPIMCI: AMINE',
  },
  indonesian: {
    'nav.public': 'Komando',
    'nav.admin': 'Link Admin',
    'nav.logout': 'Keluar',
    'nav.home': 'Kembali ke Markas',
    'landing.welcome': 'Pusat Komando ASN1',
    'landing.subtitle': 'Pilih arahan Anda, komandan.',
    'landing.action.update': 'Perbarui Profil',
    'landing.action.update.desc': 'Kirim statistik tempur dan level fasilitas terbaru.',
    'landing.action.view': 'Lihat Database',
    'landing.action.view.desc': 'Akses papan peringkat dan intelijen aliansi.',
    'form.title': 'Perbarui Statistik',
    'form.success': 'Berhasil disimpan!',
    'form.submit': 'Simpan',
    'form.saving': 'Menyimpan...',
    'form.optional': 'Opsional',
    'form.required_error': 'Isi kolom wajib.',
    'section.identity': '01 // Verifikasi Identitas',
    'section.identity.desc': 'Verifikasi kredensial.',
    'section.power': '02 // KEKUATAN',
    'section.power.desc': 'Format Cerdas: 24.5 = 24.5M',
    'section.tech': '03 // TEKNOLOGI',
    'section.tech.desc': 'Riset & Bonus Tingkat Lanjut',
    'section.infrastructure': '04 // BANGUNAN',
    'section.infrastructure.desc': 'Level Bangunan Markas',
    'section.t10': '05 // Analisis Tier 10',
    'section.t10.desc': 'Buff Tingkat Lanjut',
    'label.language': 'Bahasa',
    'label.name': 'Nama Game',
    'label.power': 'Kekuatan Pasukan 1',
    'label.squad2': 'Pasukan 2',
    'label.squad3': 'Pasukan 3',
    'label.squad4': 'Pasukan 4',
    'label.totalHeroPower': 'Kekuatan Hero',
    'label.pin_locked': 'ðŸ”’ PIN (Terkunci)',
    'label.pin_optional': 'ðŸ›¡ï¸ PIN (Opsional)',
    'label.pin_req': 'Wajib',
    'label.pin_set': 'Atur untuk cepat',
    'msg.forgot_pin': 'Lupa PIN? Hubungi R5/4',
    'err.pin_mismatch': 'PIN Salah',
    'placeholder.server_rank': 'Peringkat Server',
    'hint.server_rank': 'â„¹ï¸ Dapatkan dari Peringkat Server',
    'stat.hero': 'Hero %',
    'stat.duel': 'Duel %',
    'stat.units': 'Unit %',
    't10.title': 'Bonus T10',
    't10.morale': 'Moral',
    't10.protection': 'Proteksi',
    't10.hp': 'HP',
    't10.atk': 'Serangan',
    't10.def': 'Pertahanan',
    'calc.title': 'Kalkulator Sumber Daya T10',
    'calc.gold': 'Emas Dibutuhkan',
    'calc.valor': 'Valor Dibutuhkan',
    'calc.food_iron': 'Makanan/Besi',
    'calc.remaining': 'Sisa Menuju T10',
    'level.tech': 'Teknologi',
    'level.barracks': 'Barak',
    'level.tank': 'Tank',
    'level.air': 'Udara',
    'level.missile': 'Rudal',
    'card.hero_pwr': 'HERO',
    'card.tech_short': 'Tek',
    'card.barr_short': 'Bar',
    'card.tank_short': 'Tank',
    'card.air_short': 'Udara',
    'card.misl_short': 'Rudal',
    'viewer.leaderboard': 'Papan Peringkat',
    'viewer.search': 'Cari...',
    'viewer.sort': 'Urutkan',
    'viewer.showing': 'aktif',
    'viewer.no_results': 'Tidak ada.',
    'viewer.updated': 'Diperbarui',
    'viewer.export': 'CSV',
    'viewer.back': 'Kembali',
    'sort.newest': 'Terbaru',
    'sort.oldest': 'Terlama',
    'sort.highest_power': 'Tertinggi',
    'sort.lowest_power': 'Terendah',
    'sort.highest_total_hero_power': 'Hero Tertinggi',
    'sort.lowest_total_hero_power': 'Hero Terendah',
    'admin.login.title': 'Admin',
    'admin.login.btn': 'Masuk',
    'admin.dashboard': 'Dasbor',
    'admin.password': 'Sandi',
    'admin.db': 'Database',
    'admin.vs': 'VS Duel',
    'admin.filter': 'Filter...',
    'admin.active_only': 'Aktif',
    'admin.all_records': 'Semua',
    'admin.status': 'Status',
    'admin.identity': 'Identitas',
    'admin.control': 'Kontrol',
    'admin.terminate': 'Akhiri',
    'admin.save': 'Simpan',
    'admin.cancel': 'Batal',
    'admin.edit': 'Ubah',
    'admin.del': 'Hapus',
    'vs.select': 'Pilih',
    'vs.create_btn': '+ Duel',
    'vs.extract': 'Ekstrak',
    'vs.modal_title': 'VS Baru',
    'vs.modal_placeholder': 'Nama',
    'vs.abort': 'Batal',
    'vs.launch': 'Mulai',
    'vs.agent': 'Agen',
    'vs.sum': 'Jml',
    'vs.add_agent_ph': 'Tambah...',
    'vs.inject': 'Masuk',
    'vs.awaiting': 'Menunggu...',
    'day.mon': 'Sen',
    'day.tue': 'Sel',
    'day.wed': 'Rab',
    'day.thu': 'Kam',
    'day.fri': 'Jum',
    'day.sat': 'Sab',
    'credit.architect': 'DIBUAT OLEH AMINE',
  }
};

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: TranslationKey) => string;
  dir: 'ltr' | 'rtl';
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>('english');

  useEffect(() => {
    // Detect Browser Language
    const browserLang = navigator.language.split('-')[0];
    if (browserLang === 'ar') setLanguage('arabic');
    else if (browserLang === 'tr') setLanguage('turkish');
    else if (browserLang === 'id') setLanguage('indonesian');
    else setLanguage('english');
  }, []);

  const t = (key: TranslationKey): string => {
    return translations[language][key] || key;
  };

  const dir = language === 'arabic' ? 'rtl' : 'ltr';

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t, dir }}>
      <div dir={dir} className={language === 'arabic' ? 'font-sans' : ''}>
        {children}
      </div>
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
