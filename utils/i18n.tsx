
import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { Language } from '../types';

type TranslationKey = 
  | 'nav.public' | 'nav.admin' | 'nav.logout' | 'nav.home' | 'nav.train_public' | 'nav.manual'
  | 'landing.welcome' | 'landing.subtitle' 
  | 'landing.action.update' | 'landing.action.update.desc' 
  | 'landing.action.view' | 'landing.action.view.desc'
  | 'landing.action.train' | 'landing.action.train.desc'
  | 'landing.stat.members' | 'landing.stat.power' | 'landing.stat.active'
  | 'form.title' | 'form.success' | 'form.submit' | 'form.saving' | 'form.optional' | 'form.required_error'
  | 'section.identity' | 'section.identity.desc' | 'section.power' | 'section.power.desc' 
  | 'section.tech' | 'section.tech.desc'
  | 'section.infrastructure' | 'section.infrastructure.desc'
  | 'section.t10' | 'section.t10.desc'
  | 'label.language' | 'label.name' | 'label.power' | 'label.squad2' | 'label.squad3' | 'label.squad4' | 'label.totalHeroPower'
  | 'placeholder.server_rank' | 'hint.server_rank'
  | 'stat.hero' | 'stat.duel' | 'stat.units'
  | 't10.title' | 't10.morale' | 't10.protection' | 't10.hp' | 't10.atk' | 't10.def'
  | 'calc.title' | 'calc.gold' | 'calc.valor' | 'calc.food_iron' | 'calc.remaining'
  | 'level.tech' | 'level.barracks' | 'level.tank' | 'level.air' | 'level.missile'
  | 'card.hero_pwr' | 'card.tech_short' | 'card.barr_short' | 'card.tank_short' | 'card.air_short' | 'card.misl_short'
  | 'viewer.leaderboard' | 'viewer.search' | 'viewer.sort' | 'viewer.showing' | 'viewer.no_results' | 'viewer.updated' | 'viewer.export' | 'viewer.excel' | 'viewer.back'
  | 'sort.newest' | 'sort.oldest' | 'sort.highest_power' | 'sort.lowest_power'
  | 'sort.highest_total_hero_power' | 'sort.lowest_total_hero_power' | 'sort.t10_closest'
  | 'admin.login.title' | 'admin.login.btn' | 'admin.dashboard' | 'admin.password' | 'admin.db' | 'admin.vs' | 'admin.train' | 'admin.filter'
  | 'admin.active_only' | 'admin.all_records' | 'admin.status' | 'admin.identity' | 'admin.control' | 'admin.terminate' | 'admin.save' | 'admin.cancel' | 'admin.edit' | 'admin.del' | 'admin.inactive'
  | 'vs.select' | 'vs.create_btn' | 'vs.extract' | 'vs.modal_title' | 'vs.modal_placeholder' | 'vs.abort' | 'vs.launch' 
  | 'vs.agent' | 'vs.sum' | 'vs.add_agent_ph' | 'vs.inject' | 'vs.awaiting'
  | 'train.title' | 'train.desc' | 'train.generate' | 'train.candidates' | 'train.schedule' | 'train.conductor' | 'train.vip' | 'train.remaining_cost' | 'train.week'
  | 'train.mode_vip' | 'train.mode_guardian' | 'train.defender' | 'train.guardian' | 'train.search' | 'train.post' | 'train.copied' | 'train.public_view'
  | 'manual.title' | 'manual.subtitle' | 'manual.faq.t10' | 'manual.faq.t10.ans' | 'manual.faq.update' | 'manual.faq.update.ans' | 'manual.faq.train' | 'manual.faq.train.ans'
  | 'day.mon' | 'day.tue' | 'day.wed' | 'day.thu' | 'day.fri' | 'day.sat' | 'day.sun'
  | 'credit.architect';

const translations: Record<Language, Record<TranslationKey, string>> = {
  english: {
    'nav.public': 'Command',
    'nav.admin': 'Admin',
    'nav.logout': 'Logout',
    'nav.home': 'Dashboard',
    'nav.train_public': 'Schedule',
    'nav.manual': 'Field Manual',
    'landing.welcome': 'ASN1 Command',
    'landing.subtitle': 'Tactical Intelligence Terminal',
    'landing.action.update': 'Power Sync',
    'landing.action.update.desc': 'Transmit latest combat stats.',
    'landing.action.view': 'Leaderboard',
    'landing.action.view.desc': 'Analyze global alliance rankings.',
    'landing.action.train': 'Train Logistics',
    'landing.action.train.desc': 'Deploy automated schedules.',
    'landing.stat.members': 'Operatives',
    'landing.stat.power': 'Alliance Pwr',
    'landing.stat.active': 'Active Assets',
    'form.title': 'Power Sync',
    'form.success': 'SYNC SUCCESSFUL',
    'form.submit': 'Update Stats',
    'form.saving': 'TRANSMITTING...',
    'form.optional': 'Optional',
    'form.required_error': 'Identity parameters missing.',
    'section.identity': 'Identity Profile',
    'section.identity.desc': 'Verify operative status.',
    'section.power': 'Power Assessment',
    'section.power.desc': 'Example: 24.5M',
    'section.tech': 'Research Tech',
    'section.tech.desc': 'Core development status.',
    'section.infrastructure': 'Base Facilities',
    'section.infrastructure.desc': 'Facility level analysis.',
    'section.t10': 'T10 Protocol',
    'section.t10.desc': 'Tier-10 prerequisites.',
    'label.language': 'Region',
    'label.name': 'Codename',
    'label.power': 'Squad 1 Power',
    'label.squad2': 'Squad 2',
    'label.squad3': 'Squad 3',
    'label.squad4': 'Squad 4',
    'label.totalHeroPower': 'Hero Aggregate',
    'placeholder.server_rank': 'Rank',
    'hint.server_rank': 'Locate in Server Listings',
    'stat.hero': 'Hero%',
    'stat.duel': 'Duel%',
    'stat.units': 'Unit%',
    't10.title': 'T10 Bonus Matrix',
    't10.morale': 'Morale',
    't10.protection': 'Prot',
    't10.hp': 'HP+',
    't10.atk': 'ATK+',
    't10.def': 'DEF+',
    'calc.title': 'Resource Projector',
    'calc.gold': 'GOLD',
    'calc.valor': 'VALOR',
    'calc.food_iron': 'FOOD/IRON',
    'calc.remaining': 'RESOURCES NEEDED',
    'level.tech': 'Tech Center',
    'level.barracks': 'Barracks',
    'level.tank': 'Tank Center',
    'level.air': 'Air Center',
    'level.missile': 'Missile Center',
    'card.hero_pwr': 'H-PWR',
    'card.tech_short': 'TECH',
    'card.barr_short': 'BARR',
    'card.tank_short': 'TANK',
    'card.air_short': 'AIR',
    'card.misl_short': 'MSL',
    'viewer.leaderboard': 'Tactical Roster',
    'viewer.search': 'Search operative...',
    'viewer.sort': 'Sort By',
    'viewer.showing': 'active',
    'viewer.no_results': 'Database record not found.',
    'viewer.updated': 'Last Update',
    'viewer.export': 'Extract',
    'viewer.excel': 'EXCEL',
    'viewer.back': 'Back',
    'sort.newest': 'Recent Update',
    'sort.oldest': 'Oldest Update',
    'sort.highest_power': 'Max Power',
    'sort.lowest_power': 'Min Power',
    'sort.highest_total_hero_power': 'Max Hero',
    'sort.lowest_total_hero_power': 'Min Hero',
    'sort.t10_closest': 'T10 Progress',
    'admin.login.title': 'Secure Access',
    'admin.login.btn': 'Login',
    'admin.dashboard': 'Command HQ',
    'admin.password': 'Password',
    'admin.db': 'Dossiers',
    'admin.vs': 'Duel Log',
    'admin.train': 'Logistics',
    'admin.filter': 'Search...',
    'admin.active_only': 'Active Only',
    'admin.all_records': 'Global View',
    'admin.status': 'Status',
    'admin.identity': 'Identity',
    'admin.control': 'Override',
    'admin.terminate': 'Terminate Session',
    'admin.save': 'Save',
    'admin.cancel': 'Cancel',
    'admin.edit': 'Modify',
    'admin.del': 'Delete',
    'admin.inactive': 'INACTIVE',
    'vs.select': 'Select Week',
    'vs.create_btn': 'New Log',
    'vs.extract': 'EXTRACT',
    'vs.modal_title': 'Initiate Log',
    'vs.modal_placeholder': 'Log ID',
    'vs.abort': 'Cancel',
    'vs.launch': 'Create',
    'vs.agent': 'Operative',
    'vs.sum': 'Total',
    'vs.add_agent_ph': 'Add agent...',
    'vs.inject': 'Add',
    'vs.awaiting': 'Awaiting selection...',
    'train.title': 'Train Logistics',
    'train.desc': 'Auto-Sync Scheduler',
    'train.generate': 'REGENERATE',
    'train.candidates': 'Priority Queue',
    'train.schedule': 'Weekly Operations',
    'train.conductor': 'Conductor',
    'train.vip': 'VIP',
    'train.remaining_cost': 'Cost',
    'train.week': 'Day',
    'train.mode_vip': 'VIP',
    'train.mode_guardian': 'PROTECT',
    'train.defender': 'Guard',
    'train.guardian': 'Warden',
    'train.search': 'Filter...',
    'train.post': 'COPY ODRS',
    'train.copied': 'Copied to Clipboard',
    'train.public_view': 'Train Schedule',
    'manual.title': 'Tactical Manual',
    'manual.subtitle': 'Operating Procedures',
    'manual.faq.t10': 'How is cost calculated?',
    'manual.faq.t10.ans': 'Calculated based on current tech tree levels and prerequisite buildings for T10 units.',
    'manual.faq.update': 'When should I sync?',
    'manual.faq.update.ans': 'Members should perform a Power Sync every Friday or after significant power gains.',
    'manual.faq.train': 'How are pairs assigned?',
    'manual.faq.train.ans': 'The algorithm prioritizes players closest to unlocking T10, ensuring high-power conductors support emerging units.',
    'day.mon': 'Mon',
    'day.tue': 'Tue',
    'day.wed': 'Wed',
    'day.thu': 'Thu',
    'day.fri': 'Fri',
    'day.sat': 'Sat',
    'day.sun': 'Sun',
    'credit.architect': 'SYSTEM BY AMINE',
  },
  arabic: {
    'nav.public': 'القيادة',
    'nav.admin': 'المشرف',
    'nav.logout': 'خروج',
    'nav.home': 'لوحة القيادة',
    'nav.train_public': 'الجدول',
    'nav.manual': 'دليل الميدان',
    'landing.welcome': 'ASN1 قيادة',
    'landing.subtitle': 'محطة الاستخبارات التكتيكية',
    'landing.action.update': 'مزامنة القوة',
    'landing.action.update.desc': 'إرسال أحدث إحصائيات القتال.',
    'landing.action.view': 'قائمة الصدارة',
    'landing.action.view.desc': 'تحليل التصنيف العالمي للتحالف.',
    'landing.action.train': 'لوجستيات القطار',
    'landing.action.train.desc': 'نشر الجداول التلقائية.',
    'landing.stat.members': 'الأعضاء',
    'landing.stat.power': 'قوة التحالف',
    'landing.stat.active': 'الأعضاء النشطين',
    'form.title': 'مزامنة القوة',
    'form.success': 'تمت المزامنة بنجاح',
    'form.submit': 'تحديث البيانات',
    'form.saving': 'جاري الإرسال...',
    'form.optional': 'اختياري',
    'form.required_error': 'بيانات الهوية مفقودة.',
    'section.identity': 'ملف الهوية',
    'section.identity.desc': 'التحقق من حالة العميل.',
    'section.power': 'تقييم القوة',
    'section.power.desc': 'مثال: 24.5M',
    'section.tech': 'تقنيات البحث',
    'section.tech.desc': 'حالة التطوير الأساسية.',
    'section.infrastructure': 'مرافق القاعدة',
    'section.infrastructure.desc': 'تحليل مستوى المنشأة.',
    'section.t10': 'بروتوكول T10',
    'section.t10.desc': 'متطلبات المستوى 10.',
    'label.language': 'المنطقة',
    'label.name': 'الاسم الرمزي',
    'label.power': 'قوة الفريق 1',
    'label.squad2': 'الفريق 2',
    'label.squad3': 'الفريق 3',
    'label.squad4': 'الفريق 4',
    'label.totalHeroPower': 'مجموع الأبطال',
    'placeholder.server_rank': 'الرتبة',
    'hint.server_rank': 'موقعك في تصنيف السيرفر',
    'stat.hero': 'أبطال%',
    'stat.duel': 'مبارزة%',
    'stat.units': 'جنود%',
    't10.title': 'مصفوفة مكافآت T10',
    't10.morale': 'جبروت',
    't10.protection': 'حماية',
    't10.hp': 'صحة+',
    't10.atk': 'هجوم+',
    't10.def': 'دفاع+',
    'calc.title': 'جهاز الموارد',
    'calc.gold': 'ذهب',
    'calc.valor': 'شرف',
    'calc.food_iron': 'طعام/حديد',
    'calc.remaining': 'الموارد المطلوبة',
    'level.tech': 'التقنية',
    'level.barracks': 'الثكنة',
    'level.tank': 'الدبابات',
    'level.air': 'الطيران',
    'level.missile': 'الصواريخ',
    'card.hero_pwr': 'قوة-ب',
    'card.tech_short': 'تقن',
    'card.barr_short': 'ثكن',
    'card.tank_short': 'دبب',
    'card.air_short': 'طير',
    'card.misl_short': 'صار',
    'viewer.leaderboard': 'قائمة التكتيك',
    'viewer.search': 'بحث عن عميل...',
    'viewer.sort': 'فرز حسب',
    'viewer.showing': 'نشط',
    'viewer.no_results': 'لم يتم العثور على سجل.',
    'viewer.updated': 'آخر تحديث',
    'viewer.export': 'استخراج',
    'viewer.excel': 'EXCEL',
    'viewer.back': 'رجوع',
    'sort.newest': 'تحديث حديث',
    'sort.oldest': 'أقدم تحديث',
    'sort.highest_power': 'أقصى قوة',
    'sort.lowest_power': 'أدنى قوة',
    'sort.highest_total_hero_power': 'أقصى أبطال',
    'sort.lowest_total_hero_power': 'أدنى أبطال',
    'sort.t10_closest': 'تقدم T10',
    'admin.login.title': 'وصول آمن',
    'admin.login.btn': 'دخول',
    'admin.dashboard': 'مقر القيادة',
    'admin.password': 'كلمة المرور',
    'admin.db': 'الملفات',
    'admin.vs': 'سجل المبارزة',
    'admin.train': 'اللوجستيات',
    'admin.filter': 'بحث...',
    'admin.active_only': 'نشط فقط',
    'admin.all_records': 'عرض عالمي',
    'admin.status': 'الحالة',
    'admin.identity': 'الهوية',
    'admin.control': 'تجاوز',
    'admin.terminate': 'إنهاء الجلسة',
    'admin.save': 'حفظ',
    'admin.cancel': 'إلغاء',
    'admin.edit': 'تعديل',
    'admin.del': 'حذف',
    'admin.inactive': 'غير نشط',
    'vs.select': 'اختر الأسبوع',
    'vs.create_btn': 'سجل جديد',
    'vs.extract': 'استخراج',
    'vs.modal_title': 'بدء سجل',
    'vs.modal_placeholder': 'رقم السجل',
    'vs.abort': 'إلغاء',
    'vs.launch': 'إنشاء',
    'vs.agent': 'العميل',
    'vs.sum': 'المجموع',
    'vs.add_agent_ph': 'إضافة عميل...',
    'vs.inject': 'إضافة',
    'vs.awaiting': 'بانتظار الاختيار...',
    'train.title': 'لوجستيات القطار',
    'train.desc': 'جدولة المزامنة الآلية',
    'train.generate': 'إعادة حساب',
    'train.candidates': 'طابور الأولوية',
    'train.schedule': 'العمليات الأسبوعية',
    'train.conductor': 'المحرك',
    'train.vip': 'المهم',
    'train.remaining_cost': 'التكلفة',
    'train.week': 'اليوم',
    'train.mode_vip': 'VIP',
    'train.mode_guardian': 'حماية',
    'train.defender': 'حارس',
    'train.guardian': 'آمر',
    'train.search': 'تصفية...',
    'train.post': 'نسخ الأوامر',
    'train.copied': 'تم النسخ',
    'train.public_view': 'جدول القطار',
    'manual.title': 'الدليل التكتيكي',
    'manual.subtitle': 'إجراءات التشغيل',
    'manual.faq.t10': 'كيف يتم حساب التكلفة؟',
    'manual.faq.t10.ans': 'يتم الحساب بناءً على مستويات البحث والمباني المطلوبة لفتح وحدات T10.',
    'manual.faq.update': 'متى يجب علي المزامنة؟',
    'manual.faq.update.ans': 'يجب على الأعضاء إجراء مزامنة القوة كل يوم جمعة أو بعد تحقيق زيادة كبيرة في القوة.',
    'manual.faq.train': 'كيف يتم تعيين الأزواج؟',
    'manual.faq.train.ans': 'تعطي الخوارزمية الأولوية للاعبين الأقرب لفتح T10، مع ضمان دعم القادة ذوي القوة العالية للوحدات الناشئة.',
    'day.mon': 'إثنين',
    'day.tue': 'ثلاثاء',
    'day.wed': 'أربعاء',
    'day.thu': 'خميس',
    'day.fri': 'جمعة',
    'day.sat': 'سبت',
    'day.sun': 'أحد',
    'credit.architect': 'صنع بواسطة أمين',
  },
  turkish: {
    'nav.public': 'Komuta',
    'nav.admin': 'Admin',
    'nav.logout': 'Çıkış',
    'nav.home': 'Panel',
    'nav.train_public': 'Program',
    'nav.manual': 'Kılavuz',
    'landing.welcome': 'ASN1 Komuta',
    'landing.subtitle': 'Taktiksel İstihbarat Terminali',
    'landing.action.update': 'Güç Senkronu',
    'landing.action.update.desc': 'Son savaş verilerini ilet.',
    'landing.action.view': 'Liderlik',
    'landing.action.view.desc': 'Küresel ittifakı analiz et.',
    'landing.action.train': 'Tren Lojistiği',
    'landing.action.train.desc': 'Otomatik programları kur.',
    'landing.stat.members': 'Operatif',
    'landing.stat.power': 'İttifak Gücü',
    'landing.stat.active': 'Aktif Varlıklar',
    'form.title': 'Güç Senkronu',
    'form.success': 'SENKRON BAŞARILI',
    'form.submit': 'Verileri Güncelle',
    'form.saving': 'İLETİLİYOR...',
    'form.optional': 'İsteğe Bağlı',
    'form.required_error': 'Kimlik bilgileri eksik.',
    'section.identity': 'Kimlik Profili',
    'section.identity.desc': 'Durumu doğrula.',
    'section.power': 'Güç Değerlendirmesi',
    'section.power.desc': 'Örn: 24.5M',
    'section.tech': 'Araştırma Tekniği',
    'section.tech.desc': 'Gelişim durumu.',
    'section.infrastructure': 'Üs Tesisleri',
    'section.infrastructure.desc': 'Tesis analizi.',
    'section.t10': 'T10 Protokolü',
    'section.t10.desc': 'T10 gereksinimleri.',
    'label.language': 'Bölge',
    'label.name': 'Kod Adı',
    'label.power': '1. Takım Gücü',
    'label.squad2': '2. Takım',
    'label.squad3': '3. Takım',
    'label.squad4': '4. Takım',
    'label.totalHeroPower': 'Hero Toplamı',
    'placeholder.server_rank': 'Sıra',
    'hint.server_rank': 'Sıralamada konumunu bul',
    'stat.hero': 'Hero%',
    'stat.duel': 'Düello%',
    'stat.units': 'Birim%',
    't10.title': 'T10 Bonus Matrisi',
    't10.morale': 'Moral',
    't10.protection': 'Koruma',
    't10.hp': 'Can+',
    't10.atk': 'Saldırı+',
    't10.def': 'Savunma+',
    'calc.title': 'Kaynak Analizi',
    'calc.gold': 'ALTIN',
    'calc.valor': 'CESARET',
    'calc.food_iron': 'YİYECEK/DEMİR',
    'calc.remaining': 'GEREKEN KAYNAKLAR',
    'level.tech': 'Teknoloji',
    'level.barracks': 'Kışla',
    'level.tank': 'Tank',
    'level.air': 'Hava',
    'level.missile': 'Füze',
    'card.hero_pwr': 'H-GÜÇ',
    'card.tech_short': 'TEK',
    'card.barr_short': 'KIŞ',
    'card.tank_short': 'TNK',
    'card.air_short': 'HAVA',
    'card.misl_short': 'FZL',
    'viewer.leaderboard': 'Taktik Kadro',
    'viewer.search': 'Operatif ara...',
    'viewer.sort': 'Sırala',
    'viewer.showing': 'aktif',
    'viewer.no_results': 'Kayıt bulunamadı.',
    'viewer.updated': 'Son Güncelleme',
    'viewer.export': 'Dışa Aktar',
    'viewer.excel': 'EXCEL',
    'viewer.back': 'Geri',
    'sort.newest': 'Yeni Güncelleme',
    'sort.oldest': 'Eski Güncelleme',
    'sort.highest_power': 'Maks Güç',
    'sort.lowest_power': 'Min Güç',
    'sort.highest_total_hero_power': 'Maks Hero',
    'sort.lowest_total_hero_power': 'Min Hero',
    'sort.t10_closest': 'T10 İlerlemesi',
    'admin.login.title': 'Güvenli Giriş',
    'admin.login.btn': 'Giriş',
    'admin.dashboard': 'Karargah',
    'admin.password': 'Parola',
    'admin.db': 'Dosyalar',
    'admin.vs': 'Düello Kaydı',
    'admin.train': 'Lojistik',
    'admin.filter': 'Ara...',
    'admin.active_only': 'Sadece Aktif',
    'admin.all_records': 'Genel Görünüm',
    'admin.status': 'Durum',
    'admin.identity': 'Kimlik',
    'admin.control': 'Geçersiz Kıl',
    'admin.terminate': 'Oturumu Kapat',
    'admin.save': 'Kaydet',
    'admin.cancel': 'İptal',
    'admin.edit': 'Düzenle',
    'admin.del': 'Sil',
    'admin.inactive': 'PASİF',
    'vs.select': 'Hafta Seç',
    'vs.create_btn': 'Yeni Kayıt',
    'vs.extract': 'DIŞA AKTAR',
    'vs.modal_title': 'Kayıt Başlat',
    'vs.modal_placeholder': 'Kayıt ID',
    'vs.abort': 'İptal',
    'vs.launch': 'Oluştur',
    'vs.agent': 'Operatif',
    'vs.sum': 'Toplam',
    'vs.add_agent_ph': 'Ajan ekle...',
    'vs.inject': 'Ekle',
    'vs.awaiting': 'Seçim bekleniyor...',
    'train.title': 'Tren Lojistiği',
    'train.desc': 'Otomatik Senkronizasyon',
    'train.generate': 'YENİLE',
    'train.candidates': 'Öncelik Sırası',
    'train.schedule': 'Haftalık Plan',
    'train.conductor': 'Kondüktör',
    'train.vip': 'VIP',
    'train.remaining_cost': 'Maliyet',
    'train.week': 'Gün',
    'train.mode_vip': 'VIP',
    'train.mode_guardian': 'KORUMA',
    'train.defender': 'Muhafız',
    'train.guardian': 'Vasi',
    'train.search': 'Filtrele...',
    'train.post': 'KOPYALA',
    'train.copied': 'Panoya Kopyalandı',
    'train.public_view': 'Tren Programı',
    'manual.title': 'Taktik Kılavuz',
    'manual.subtitle': 'Prosedürler',
    'manual.faq.t10': 'Maliyet nasıl hesaplanır?',
    'manual.faq.t10.ans': 'Tesis seviyeleri ve T10 için gereken araştırma yüzdelerine göre hesaplanır.',
    'manual.faq.update': 'Ne zaman senkron yapmalıyım?',
    'manual.faq.update.ans': 'Her Cuma veya önemli bir güç artışı sağlandığında Güç Senkronu yapılmalıdır.',
    'manual.faq.train': 'Eşleşmeler nasıl yapılır?',
    'manual.faq.train.ans': 'Algoritma T10\'a en yakın oyuncuları önceliklendirir, güçlü kondüktörlerin zayıf birimleri desteklemesini sağlar.',
    'day.mon': 'Pzt',
    'day.tue': 'Sal',
    'day.wed': 'Çar',
    'day.thu': 'Per',
    'day.fri': 'Cum',
    'day.sat': 'Cmt',
    'day.sun': 'Paz',
    'credit.architect': 'AMINE TARAFINDAN YAPILDI',
  },
  indonesian: {
    'nav.public': 'Komando',
    'nav.admin': 'Admin',
    'nav.logout': 'Keluar',
    'nav.home': 'Dasbor',
    'nav.train_public': 'Jadwal',
    'nav.manual': 'Panduan',
    'landing.welcome': 'Komando ASN1',
    'landing.subtitle': 'Terminal Intelijen Taktis',
    'landing.action.update': 'Power Sync',
    'landing.action.update.desc': 'Kirim data tempur terbaru.',
    'landing.action.view': 'Peringkat',
    'landing.action.view.desc': 'Analisis aliansi global.',
    'landing.action.train': 'Logistik',
    'landing.action.train.desc': 'Jadwal otomatis.',
    'landing.stat.members': 'Operatif',
    'landing.stat.power': 'Kekuatan Aliansi',
    'landing.stat.active': 'Aset Aktif',
    'form.title': 'Power Sync',
    'form.success': 'SINKRONISASI BERHASIL',
    'form.submit': 'Perbarui Statistik',
    'form.saving': 'MENGIRIM...',
    'form.optional': 'Opsional',
    'form.required_error': 'Parameter identitas hilang.',
    'section.identity': 'Profil Identitas',
    'section.identity.desc': 'Verifikasi status.',
    'section.power': 'Penilaian Daya',
    'section.power.desc': 'Contoh: 24.5M',
    'section.tech': 'Teknologi Riset',
    'section.tech.desc': 'Status pengembangan.',
    'section.infrastructure': 'Fasilitas Basis',
    'section.infrastructure.desc': 'Analisis level.',
    'section.t10': 'Protokol T10',
    'section.t10.desc': 'Syarat Tier-10.',
    'label.language': 'Wilayah',
    'label.name': 'Nama Kode',
    'label.power': 'Daya Pasukan 1',
    'label.squad2': 'Pasukan 2',
    'label.squad3': 'Pasukan 3',
    'label.squad4': 'Pasukan 4',
    'label.totalHeroPower': 'Total Hero',
    'placeholder.server_rank': 'Peringkat',
    'hint.server_rank': 'Cari di peringkat server',
    'stat.hero': 'Hero%',
    'stat.duel': 'Duel%',
    'stat.units': 'Unit%',
    't10.title': 'Matriks Bonus T10',
    't10.morale': 'Moral',
    't10.protection': 'Prot',
    't10.hp': 'HP+',
    't10.atk': 'ATK+',
    't10.def': 'DEF+',
    'calc.title': 'Proyektor Sumber Daya',
    'calc.gold': 'EMAS',
    'calc.valor': 'VALOR',
    'calc.food_iron': 'PANGAN/BESI',
    'calc.remaining': 'SUMBER DAYA DIBUTUHKAN',
    'level.tech': 'Teknologi',
    'level.barracks': 'Barak',
    'level.tank': 'Tank',
    'level.air': 'Udara',
    'level.missile': 'Rudal',
    'card.hero_pwr': 'H-PWR',
    'card.tech_short': 'TECH',
    'card.barr_short': 'BARK',
    'card.tank_short': 'TANK',
    'card.air_short': 'AIR',
    'card.misl_short': 'MSL',
    'viewer.leaderboard': 'Daftar Taktis',
    'viewer.search': 'Cari operatif...',
    'viewer.sort': 'Urutkan',
    'viewer.showing': 'aktif',
    'viewer.no_results': 'Data tidak ditemukan.',
    'viewer.updated': 'Update Terakhir',
    'viewer.export': 'Ekstrak',
    'viewer.excel': 'EXCEL',
    'viewer.back': 'Kembali',
    'sort.newest': 'Update Baru',
    'sort.oldest': 'Update Lama',
    'sort.highest_power': 'Max Daya',
    'sort.lowest_power': 'Min Daya',
    'sort.highest_total_hero_power': 'Max Hero',
    'sort.lowest_total_hero_power': 'Min Hero',
    'sort.t10_closest': 'Progres T10',
    'admin.login.title': 'Akses Aman',
    'admin.login.btn': 'Masuk',
    'admin.dashboard': 'HQ Komando',
    'admin.password': 'Sandi',
    'admin.db': 'Berkas',
    'admin.vs': 'Log Duel',
    'admin.train': 'Logistik',
    'admin.filter': 'Cari...',
    'admin.active_only': 'Aktif Saja',
    'admin.all_records': 'Tampilan Global',
    'admin.status': 'Status',
    'admin.identity': 'Identitas',
    'admin.control': 'Timpa',
    'admin.terminate': 'Akhiri Sesi',
    'admin.save': 'Simpan',
    'admin.cancel': 'Batal',
    'admin.edit': 'Ubah',
    'admin.del': 'Hapus',
    'admin.inactive': 'NONAKTIF',
    'vs.select': 'Pilih Minggu',
    'vs.create_btn': 'Log Baru',
    'vs.extract': 'EKSTRAK',
    'vs.modal_title': 'Mulai Log',
    'vs.modal_placeholder': 'ID Log',
    'vs.abort': 'Batal',
    'vs.launch': 'Buat',
    'vs.agent': 'Operatif',
    'vs.sum': 'Total',
    'vs.add_agent_ph': 'Tambah agen...',
    'vs.inject': 'Tambah',
    'vs.awaiting': 'Menunggu pilihan...',
    'train.title': 'Logistik Kereta',
    'train.desc': 'Jadwal Otomatis',
    'train.generate': 'REGENERASI',
    'train.candidates': 'Antrean Prioritas',
    'train.schedule': 'Operasi Mingguan',
    'train.conductor': 'Kondektur',
    'train.vip': 'VIP',
    'train.remaining_cost': 'Biaya',
    'train.week': 'Hari',
    'train.mode_vip': 'VIP',
    'train.mode_guardian': 'PROTEKSI',
    'train.defender': 'Penjaga',
    'train.guardian': 'Wali',
    'train.search': 'Filter...',
    'train.post': 'SALIN',
    'train.copied': 'Tersalin',
    'train.public_view': 'Jadwal Kereta',
    'manual.title': 'Panduan Taktis',
    'manual.subtitle': 'Prosedur Operasi',
    'manual.faq.t10': 'Bagaimana biaya dihitung?',
    'manual.faq.t10.ans': 'Dihitung berdasarkan level riset dan bangunan syarat unit T10.',
    'manual.faq.update': 'Kapan saya harus sinkron?',
    'manual.faq.update.ans': 'Anggota harus melakukan Power Sync setiap Jumat atau setelah kenaikan daya yang signifikan.',
    'manual.faq.train': 'Bagaimana pasangan ditentukan?',
    'manual.faq.train.ans': 'Algoritme memprioritaskan pemain terdekat ke T10, memastikan kondektur daya tinggi mendukung unit yang baru berkembang.',
    'day.mon': 'Sen',
    'day.tue': 'Sel',
    'day.wed': 'Rab',
    'day.thu': 'Kam',
    'day.fri': 'Jum',
    'day.sat': 'Sab',
    'day.sun': 'Min',
    'credit.architect': 'SISTEM OLEH AMINE',
  }
};

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: TranslationKey) => string;
  dir: 'ltr' | 'rtl';
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>('english');

  useEffect(() => {
    const browserLang = navigator.language.split('-')[0];
    if (browserLang === 'ar') setLanguage('arabic');
    else if (browserLang === 'tr') setLanguage('turkish');
    else if (browserLang === 'id') setLanguage('indonesian');
    else setLanguage('english');
  }, []);

  const t = (key: TranslationKey): string => {
    return translations[language][key] || key;
  };

  const dir = language === 'arabic' ? 'rtl' : 'ltr';

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t, dir }}>
      <div dir={dir} className={language === 'arabic' ? 'font-sans' : ''}>
        {children}
      </div>
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
